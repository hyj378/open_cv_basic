<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
</head>
<body>
  <header>
    <h1>#과제1. 파노라마</h1>
    <a href="../과제.html">과제 메인 화면으로</a>
    <a href="과제1.html">과제1 메인 화면으로</a>
  </header>

  <article>
    실행 결과<br>
		코드0완성 이미지
		<img src="코드0완성.JPG" alt="힘듬..." width="350" height="350">
		코드2완성 이미지
		<img src="R변환을 합친 파노라마.JPG" alt="휴" width="350" height="350">
    개선해야할 부분<br>
	  이미지가 왼쪽에서 오른쪽으로 이어지는 이미지만 가능하다.
	  순서를 지정해주어야 한다.
	  논문을 이해하지 못했으므로 일단 넘어간다<br>
    <ul>
      <li>초기 이미지</li>
    <img src="L.jpg" width="250" height="400" alt="L.jpg">
    <img src="M.jpg" width="250" height="400" alt="M.jpg">
    <img src="R.jpg" width="250" height="400" alt="R.jpg">

      <li>실행과정</li>
      <ol>
        <li>M이미지의 변환 이미지</li>
        <img src="M변환 이미지.JPG" width="300" height="350" alt="M변환 이미지">
        <li>M이미지 변환과 L의 파노라마 이미지</li>
        <img src="L과M을 합친 이미지.JPG" width="300" height="350" alt="M이미지 변환과 L의 파노라마">
        <li>R과 파노라마1번의 all_match</li>
        <img src="R과 파노라마1번의 all_match를 표현한 이미지.JPG" width="350" height="350" alt="R과 파노라마1번의 all_match">
        <li>매칭을 기준으로 변환한 R이미지</li>
        <img src="R변환 이미지.JPG"  width="350" height="350" alt="R변환 이미지">
        <li>R변환을 합친 파노라마</li>
        <img src="R변환을 합친 파노라마.JPG" width="350" height="350" alt="R변환과 파노라마1의 파노라마">
      </ol>

    </ul>
		코드0. 사진 여러개 파노라마 (평균이미지 이용)<br>
		Mat의 빈영역을 없애기 위해 평균영상을 사용했다.
		<div class="colorscripter-code" style="color:#f0f0f0; font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; position:relative !important; overflow:auto"><table class="colorscripter-code-table" style="margin:0; padding:0; border:none; background-color:#272727; border-radius:4px;" cellspacing="0" cellpadding="0"><tr><td style="padding:6px; border-right:2px solid #4f4f4f"><div style="margin:0; padding:0; word-break:normal; text-align:right; color:#aaa; font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; line-height:130%"><div style="line-height:130%">1</div><div style="line-height:130%">2</div><div style="line-height:130%">3</div><div style="line-height:130%">4</div><div style="line-height:130%">5</div><div style="line-height:130%">6</div><div style="line-height:130%">7</div><div style="line-height:130%">8</div><div style="line-height:130%">9</div><div style="line-height:130%">10</div><div style="line-height:130%">11</div><div style="line-height:130%">12</div><div style="line-height:130%">13</div><div style="line-height:130%">14</div><div style="line-height:130%">15</div><div style="line-height:130%">16</div><div style="line-height:130%">17</div><div style="line-height:130%">18</div><div style="line-height:130%">19</div><div style="line-height:130%">20</div><div style="line-height:130%">21</div><div style="line-height:130%">22</div><div style="line-height:130%">23</div><div style="line-height:130%">24</div><div style="line-height:130%">25</div><div style="line-height:130%">26</div><div style="line-height:130%">27</div><div style="line-height:130%">28</div><div style="line-height:130%">29</div><div style="line-height:130%">30</div><div style="line-height:130%">31</div><div style="line-height:130%">32</div><div style="line-height:130%">33</div><div style="line-height:130%">34</div><div style="line-height:130%">35</div><div style="line-height:130%">36</div><div style="line-height:130%">37</div><div style="line-height:130%">38</div><div style="line-height:130%">39</div><div style="line-height:130%">40</div><div style="line-height:130%">41</div><div style="line-height:130%">42</div><div style="line-height:130%">43</div><div style="line-height:130%">44</div><div style="line-height:130%">45</div><div style="line-height:130%">46</div><div style="line-height:130%">47</div><div style="line-height:130%">48</div><div style="line-height:130%">49</div><div style="line-height:130%">50</div><div style="line-height:130%">51</div><div style="line-height:130%">52</div><div style="line-height:130%">53</div><div style="line-height:130%">54</div><div style="line-height:130%">55</div><div style="line-height:130%">56</div><div style="line-height:130%">57</div><div style="line-height:130%">58</div><div style="line-height:130%">59</div><div style="line-height:130%">60</div><div style="line-height:130%">61</div><div style="line-height:130%">62</div><div style="line-height:130%">63</div><div style="line-height:130%">64</div><div style="line-height:130%">65</div><div style="line-height:130%">66</div><div style="line-height:130%">67</div><div style="line-height:130%">68</div><div style="line-height:130%">69</div><div style="line-height:130%">70</div><div style="line-height:130%">71</div><div style="line-height:130%">72</div><div style="line-height:130%">73</div><div style="line-height:130%">74</div><div style="line-height:130%">75</div><div style="line-height:130%">76</div><div style="line-height:130%">77</div><div style="line-height:130%">78</div><div style="line-height:130%">79</div><div style="line-height:130%">80</div><div style="line-height:130%">81</div><div style="line-height:130%">82</div><div style="line-height:130%">83</div><div style="line-height:130%">84</div><div style="line-height:130%">85</div><div style="line-height:130%">86</div><div style="line-height:130%">87</div><div style="line-height:130%">88</div><div style="line-height:130%">89</div><div style="line-height:130%">90</div><div style="line-height:130%">91</div><div style="line-height:130%">92</div><div style="line-height:130%">93</div><div style="line-height:130%">94</div><div style="line-height:130%">95</div><div style="line-height:130%">96</div><div style="line-height:130%">97</div><div style="line-height:130%">98</div><div style="line-height:130%">99</div><div style="line-height:130%">100</div><div style="line-height:130%">101</div><div style="line-height:130%">102</div><div style="line-height:130%">103</div><div style="line-height:130%">104</div><div style="line-height:130%">105</div><div style="line-height:130%">106</div><div style="line-height:130%">107</div><div style="line-height:130%">108</div><div style="line-height:130%">109</div><div style="line-height:130%">110</div><div style="line-height:130%">111</div><div style="line-height:130%">112</div><div style="line-height:130%">113</div><div style="line-height:130%">114</div><div style="line-height:130%">115</div><div style="line-height:130%">116</div><div style="line-height:130%">117</div><div style="line-height:130%">118</div><div style="line-height:130%">119</div><div style="line-height:130%">120</div><div style="line-height:130%">121</div><div style="line-height:130%">122</div><div style="line-height:130%">123</div><div style="line-height:130%">124</div><div style="line-height:130%">125</div><div style="line-height:130%">126</div><div style="line-height:130%">127</div><div style="line-height:130%">128</div><div style="line-height:130%">129</div><div style="line-height:130%">130</div><div style="line-height:130%">131</div><div style="line-height:130%">132</div><div style="line-height:130%">133</div><div style="line-height:130%">134</div><div style="line-height:130%">135</div><div style="line-height:130%">136</div><div style="line-height:130%">137</div><div style="line-height:130%">138</div><div style="line-height:130%">139</div><div style="line-height:130%">140</div><div style="line-height:130%">141</div><div style="line-height:130%">142</div><div style="line-height:130%">143</div><div style="line-height:130%">144</div><div style="line-height:130%">145</div><div style="line-height:130%">146</div><div style="line-height:130%">147</div><div style="line-height:130%">148</div><div style="line-height:130%">149</div><div style="line-height:130%">150</div><div style="line-height:130%">151</div><div style="line-height:130%">152</div><div style="line-height:130%">153</div><div style="line-height:130%">154</div><div style="line-height:130%">155</div><div style="line-height:130%">156</div><div style="line-height:130%">157</div><div style="line-height:130%">158</div><div style="line-height:130%">159</div><div style="line-height:130%">160</div><div style="line-height:130%">161</div><div style="line-height:130%">162</div><div style="line-height:130%">163</div><div style="line-height:130%">164</div><div style="line-height:130%">165</div><div style="line-height:130%">166</div><div style="line-height:130%">167</div><div style="line-height:130%">168</div><div style="line-height:130%">169</div><div style="line-height:130%">170</div><div style="line-height:130%">171</div><div style="line-height:130%">172</div><div style="line-height:130%">173</div><div style="line-height:130%">174</div><div style="line-height:130%">175</div><div style="line-height:130%">176</div><div style="line-height:130%">177</div><div style="line-height:130%">178</div><div style="line-height:130%">179</div><div style="line-height:130%">180</div><div style="line-height:130%">181</div><div style="line-height:130%">182</div><div style="line-height:130%">183</div><div style="line-height:130%">184</div><div style="line-height:130%">185</div><div style="line-height:130%">186</div><div style="line-height:130%">187</div><div style="line-height:130%">188</div><div style="line-height:130%">189</div><div style="line-height:130%">190</div><div style="line-height:130%">191</div><div style="line-height:130%">192</div><div style="line-height:130%">193</div><div style="line-height:130%">194</div><div style="line-height:130%">195</div><div style="line-height:130%">196</div><div style="line-height:130%">197</div><div style="line-height:130%">198</div><div style="line-height:130%">199</div><div style="line-height:130%">200</div><div style="line-height:130%">201</div><div style="line-height:130%">202</div><div style="line-height:130%">203</div><div style="line-height:130%">204</div><div style="line-height:130%">205</div><div style="line-height:130%">206</div><div style="line-height:130%">207</div><div style="line-height:130%">208</div><div style="line-height:130%">209</div><div style="line-height:130%">210</div><div style="line-height:130%">211</div><div style="line-height:130%">212</div><div style="line-height:130%">213</div><div style="line-height:130%">214</div><div style="line-height:130%">215</div><div style="line-height:130%">216</div><div style="line-height:130%">217</div><div style="line-height:130%">218</div><div style="line-height:130%">219</div><div style="line-height:130%">220</div><div style="line-height:130%">221</div><div style="line-height:130%">222</div><div style="line-height:130%">223</div><div style="line-height:130%">224</div><div style="line-height:130%">225</div><div style="line-height:130%">226</div><div style="line-height:130%">227</div><div style="line-height:130%">228</div><div style="line-height:130%">229</div><div style="line-height:130%">230</div><div style="line-height:130%">231</div><div style="line-height:130%">232</div><div style="line-height:130%">233</div><div style="line-height:130%">234</div><div style="line-height:130%">235</div><div style="line-height:130%">236</div><div style="line-height:130%">237</div><div style="line-height:130%">238</div><div style="line-height:130%">239</div><div style="line-height:130%">240</div><div style="line-height:130%">241</div><div style="line-height:130%">242</div><div style="line-height:130%">243</div><div style="line-height:130%">244</div><div style="line-height:130%">245</div><div style="line-height:130%">246</div><div style="line-height:130%">247</div><div style="line-height:130%">248</div><div style="line-height:130%">249</div><div style="line-height:130%">250</div><div style="line-height:130%">251</div><div style="line-height:130%">252</div><div style="line-height:130%">253</div><div style="line-height:130%">254</div><div style="line-height:130%">255</div><div style="line-height:130%">256</div><div style="line-height:130%">257</div><div style="line-height:130%">258</div><div style="line-height:130%">259</div><div style="line-height:130%">260</div><div style="line-height:130%">261</div><div style="line-height:130%">262</div><div style="line-height:130%">263</div><div style="line-height:130%">264</div><div style="line-height:130%">265</div><div style="line-height:130%">266</div><div style="line-height:130%">267</div><div style="line-height:130%">268</div><div style="line-height:130%">269</div><div style="line-height:130%">270</div><div style="line-height:130%">271</div><div style="line-height:130%">272</div><div style="line-height:130%">273</div><div style="line-height:130%">274</div><div style="line-height:130%">275</div><div style="line-height:130%">276</div></div></td><td style="padding:6px 0"><div style="margin:0; padding:0; color:#f0f0f0; font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; line-height:130%"><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#999999">//특징점&nbsp;추출-&gt;기술-&gt;짝이&nbsp;될&nbsp;이미지&nbsp;찾기,&nbsp;이미지&nbsp;변환-&gt;블랜딩</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">#include&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>iostream<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">#include&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>stdio.h<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">#include&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>opencv2<span style="color:#0086b3"></span><span style="color:#ff3399">/</span>opencv.hpp<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">#include&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>opencv2<span style="color:#0086b3"></span><span style="color:#ff3399">/</span>xfeatures2d<span style="color:#0086b3"></span><span style="color:#ff3399">/</span>nonfree.hpp<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">#include&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>opencv2<span style="color:#0086b3"></span><span style="color:#ff3399">/</span>features2d<span style="color:#0086b3"></span><span style="color:#ff3399">/</span>features2d.hpp<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#ff3399">using</span>&nbsp;<span style="color:#ff3399">namespace</span>&nbsp;cv;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#ff3399">using</span>&nbsp;<span style="color:#ff3399">namespace</span>&nbsp;std;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#999999">//두&nbsp;Mat의&nbsp;평균&nbsp;픽셀&nbsp;구하는&nbsp;함수</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">Mat&nbsp;avgImage(Mat&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">&amp;</span>img1,&nbsp;Mat&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">&amp;</span>img2)</div><div style="padding:0 6px; white-space:pre; line-height:130%">{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;Mat&nbsp;<span style="color:#ff3399">out</span>&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;img1.clone();</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff3399">int</span>&nbsp;col,&nbsp;row;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff3399">if</span>&nbsp;(img1.cols&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>&nbsp;img2.cols)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;col&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;img2.cols;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff3399">else</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;col&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;img1.cols;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff3399">if</span>&nbsp;(img1.rows&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>&nbsp;img2.rows)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;row&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;img2.rows;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff3399">else</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;row&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;img1.rows;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;resize(<span style="color:#ff3399">out</span>,&nbsp;<span style="color:#ff3399">out</span>,&nbsp;Size(col,&nbsp;row));</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff3399">out</span>&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;Scalar(<span style="color:#c10aff">0</span>);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;Mat&nbsp;img1big&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;<span style="color:#ff3399">out</span>.clone();</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;Mat&nbsp;img2big&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;<span style="color:#ff3399">out</span>.clone();</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff3399">for</span>&nbsp;(<span style="color:#ff3399">int</span>&nbsp;y&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;<span style="color:#c10aff">0</span>;&nbsp;y&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>&nbsp;img1.cols;&nbsp;y<span style="color:#0086b3"></span><span style="color:#ff3399">+</span><span style="color:#0086b3"></span><span style="color:#ff3399">+</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff3399">for</span>&nbsp;(<span style="color:#ff3399">int</span>&nbsp;x&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;<span style="color:#c10aff">0</span>;&nbsp;x&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>&nbsp;img1.rows;&nbsp;x<span style="color:#0086b3"></span><span style="color:#ff3399">+</span><span style="color:#0086b3"></span><span style="color:#ff3399">+</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;img1big.ptr<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>uchar<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>(x)[img1big.channels()<span style="color:#0086b3"></span><span style="color:#ff3399">*</span>y]&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;img1.ptr<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>uchar<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>(x)[img1.channels()<span style="color:#0086b3"></span><span style="color:#ff3399">*</span>y];</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;img1big.ptr<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>uchar<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>(x)[img1big.channels()<span style="color:#0086b3"></span><span style="color:#ff3399">*</span>y<span style="color:#0086b3"></span><span style="color:#ff3399">+</span><span style="color:#c10aff">1</span>]&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;img1.ptr<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>uchar<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>(x)[img1.channels()<span style="color:#0086b3"></span><span style="color:#ff3399">*</span>y<span style="color:#0086b3"></span><span style="color:#ff3399">+</span><span style="color:#c10aff">1</span>];</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;img1big.ptr<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>uchar<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>(x)[img1big.channels()<span style="color:#0086b3"></span><span style="color:#ff3399">*</span>y<span style="color:#0086b3"></span><span style="color:#ff3399">+</span><span style="color:#c10aff">2</span>]&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;img1.ptr<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>uchar<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>(x)[img1.channels()<span style="color:#0086b3"></span><span style="color:#ff3399">*</span>y<span style="color:#0086b3"></span><span style="color:#ff3399">+</span><span style="color:#c10aff">2</span>];&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;}</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff3399">for</span>&nbsp;(<span style="color:#ff3399">int</span>&nbsp;y&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;<span style="color:#c10aff">0</span>;&nbsp;y&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>&nbsp;img2.cols;&nbsp;y<span style="color:#0086b3"></span><span style="color:#ff3399">+</span><span style="color:#0086b3"></span><span style="color:#ff3399">+</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff3399">for</span>&nbsp;(<span style="color:#ff3399">int</span>&nbsp;x&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;<span style="color:#c10aff">0</span>;&nbsp;x&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>&nbsp;img2.rows;&nbsp;x<span style="color:#0086b3"></span><span style="color:#ff3399">+</span><span style="color:#0086b3"></span><span style="color:#ff3399">+</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;img2big.ptr<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>uchar<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>(x)[img2big.channels()<span style="color:#0086b3"></span><span style="color:#ff3399">*</span>y]&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;img2.ptr<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>uchar<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>(x)[img2.channels()<span style="color:#0086b3"></span><span style="color:#ff3399">*</span>y];</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;img2big.ptr<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>uchar<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>(x)[img2big.channels()<span style="color:#0086b3"></span><span style="color:#ff3399">*</span>y&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">+</span>&nbsp;<span style="color:#c10aff">1</span>]&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;img2.ptr<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>uchar<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>(x)[img2.channels()<span style="color:#0086b3"></span><span style="color:#ff3399">*</span>y&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">+</span>&nbsp;<span style="color:#c10aff">1</span>];</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;img2big.ptr<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>uchar<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>(x)[img2big.channels()<span style="color:#0086b3"></span><span style="color:#ff3399">*</span>y&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">+</span>&nbsp;<span style="color:#c10aff">2</span>]&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;img2.ptr<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>uchar<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>(x)[img2.channels()<span style="color:#0086b3"></span><span style="color:#ff3399">*</span>y&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">+</span>&nbsp;<span style="color:#c10aff">2</span>];</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;}</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff3399">for</span>&nbsp;(<span style="color:#ff3399">int</span>&nbsp;y&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;<span style="color:#c10aff">0</span>;&nbsp;y&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>&nbsp;col;&nbsp;y<span style="color:#0086b3"></span><span style="color:#ff3399">+</span><span style="color:#0086b3"></span><span style="color:#ff3399">+</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff3399">for</span>&nbsp;(<span style="color:#ff3399">int</span>&nbsp;x&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;<span style="color:#c10aff">0</span>;&nbsp;x&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>&nbsp;row;&nbsp;x<span style="color:#0086b3"></span><span style="color:#ff3399">+</span><span style="color:#0086b3"></span><span style="color:#ff3399">+</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff3399">if</span>&nbsp;(img1big.ptr<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>uchar<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>(x)[img1big.channels()<span style="color:#0086b3"></span><span style="color:#ff3399">*</span>y]&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">&amp;</span><span style="color:#0086b3"></span><span style="color:#ff3399">&amp;</span>&nbsp;img1big.ptr<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>uchar<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>(x)[img1big.channels()<span style="color:#0086b3"></span><span style="color:#ff3399">*</span>y&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">+</span>&nbsp;<span style="color:#c10aff">1</span>]<span style="color:#0086b3"></span><span style="color:#ff3399">&amp;</span><span style="color:#0086b3"></span><span style="color:#ff3399">&amp;</span>&nbsp;img1big.ptr<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>uchar<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>(x)[img1big.channels()<span style="color:#0086b3"></span><span style="color:#ff3399">*</span>y&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">+</span>&nbsp;<span style="color:#c10aff">2</span>]<span style="color:#0086b3"></span><span style="color:#ff3399">&amp;</span><span style="color:#0086b3"></span><span style="color:#ff3399">&amp;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;img2big.ptr<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>uchar<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>(x)[img2big.channels()<span style="color:#0086b3"></span><span style="color:#ff3399">*</span>y]<span style="color:#0086b3"></span><span style="color:#ff3399">&amp;</span><span style="color:#0086b3"></span><span style="color:#ff3399">&amp;</span>&nbsp;img2big.ptr<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>uchar<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>(x)[img2big.channels()<span style="color:#0086b3"></span><span style="color:#ff3399">*</span>y<span style="color:#0086b3"></span><span style="color:#ff3399">+</span><span style="color:#c10aff">1</span>]<span style="color:#0086b3"></span><span style="color:#ff3399">&amp;</span><span style="color:#0086b3"></span><span style="color:#ff3399">&amp;</span>&nbsp;img2big.ptr<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>uchar<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>(x)[img2big.channels()<span style="color:#0086b3"></span><span style="color:#ff3399">*</span>y<span style="color:#0086b3"></span><span style="color:#ff3399">+</span><span style="color:#c10aff">2</span>])</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;<span style="color:#999999">//둘다&nbsp;검정이&nbsp;아닐때&nbsp;평균</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff3399">out</span>.ptr<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>uchar<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>(x)[<span style="color:#ff3399">out</span>.channels()<span style="color:#0086b3"></span><span style="color:#ff3399">*</span>y]&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;(img1big.ptr<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>uchar<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>(x)[img1big.channels()<span style="color:#0086b3"></span><span style="color:#ff3399">*</span>y]&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">+</span>&nbsp;img2big.ptr<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>uchar<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>(x)[img2big.channels()<span style="color:#0086b3"></span><span style="color:#ff3399">*</span>y])&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">/</span>&nbsp;<span style="color:#c10aff">2</span>;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff3399">out</span>.ptr<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>uchar<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>(x)[<span style="color:#ff3399">out</span>.channels()<span style="color:#0086b3"></span><span style="color:#ff3399">*</span>y&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">+</span>&nbsp;<span style="color:#c10aff">1</span>]&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;(img1big.ptr<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>uchar<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>(x)[img1big.channels()<span style="color:#0086b3"></span><span style="color:#ff3399">*</span>y&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">+</span>&nbsp;<span style="color:#c10aff">1</span>]&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">+</span>&nbsp;img2big.ptr<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>uchar<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>(x)[img2big.channels()<span style="color:#0086b3"></span><span style="color:#ff3399">*</span>y&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">+</span>&nbsp;<span style="color:#c10aff">1</span>])&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">/</span>&nbsp;<span style="color:#c10aff">2</span>;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff3399">out</span>.ptr<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>uchar<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>(x)[<span style="color:#ff3399">out</span>.channels()<span style="color:#0086b3"></span><span style="color:#ff3399">*</span>y&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">+</span>&nbsp;<span style="color:#c10aff">2</span>]&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;(img1big.ptr<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>uchar<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>(x)[img1big.channels()<span style="color:#0086b3"></span><span style="color:#ff3399">*</span>y&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">+</span>&nbsp;<span style="color:#c10aff">2</span>]&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">+</span>&nbsp;img2big.ptr<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>uchar<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>(x)[img2big.channels()<span style="color:#0086b3"></span><span style="color:#ff3399">*</span>y&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">+</span>&nbsp;<span style="color:#c10aff">2</span>])&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">/</span>&nbsp;<span style="color:#c10aff">2</span>;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff3399">else</span>&nbsp;<span style="color:#ff3399">if</span>&nbsp;(<span style="color:#0086b3"></span><span style="color:#ff3399">!</span>(img1big.ptr<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>uchar<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>(x)[img1big.channels()<span style="color:#0086b3"></span><span style="color:#ff3399">*</span>y]&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">|</span><span style="color:#0086b3"></span><span style="color:#ff3399">|</span>&nbsp;img1big.ptr<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>uchar<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>(x)[img1big.channels()<span style="color:#0086b3"></span><span style="color:#ff3399">*</span>y&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">+</span>&nbsp;<span style="color:#c10aff">1</span>]&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">|</span><span style="color:#0086b3"></span><span style="color:#ff3399">|</span>&nbsp;img1big.ptr<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>uchar<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>(x)[img1big.channels()<span style="color:#0086b3"></span><span style="color:#ff3399">*</span>y&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">+</span>&nbsp;<span style="color:#c10aff">2</span>]&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">|</span><span style="color:#0086b3"></span><span style="color:#ff3399">|</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;img2big.ptr<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>uchar<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>(x)[img2big.channels()<span style="color:#0086b3"></span><span style="color:#ff3399">*</span>y]&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">|</span><span style="color:#0086b3"></span><span style="color:#ff3399">|</span>&nbsp;img2big.ptr<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>uchar<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>(x)[img2big.channels()<span style="color:#0086b3"></span><span style="color:#ff3399">*</span>y&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">+</span>&nbsp;<span style="color:#c10aff">1</span>]&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">|</span><span style="color:#0086b3"></span><span style="color:#ff3399">|</span>&nbsp;img2big.ptr<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>uchar<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>(x)[img2big.channels()<span style="color:#0086b3"></span><span style="color:#ff3399">*</span>y&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">+</span>&nbsp;<span style="color:#c10aff">2</span>]))</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;<span style="color:#999999">//둘다&nbsp;검정일때&nbsp;검정</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff3399">out</span>.ptr<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>uchar<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>(x)[<span style="color:#ff3399">out</span>.channels()<span style="color:#0086b3"></span><span style="color:#ff3399">*</span>y]&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;<span style="color:#c10aff">0</span>;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff3399">out</span>.ptr<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>uchar<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>(x)[<span style="color:#ff3399">out</span>.channels()<span style="color:#0086b3"></span><span style="color:#ff3399">*</span>y&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">+</span>&nbsp;<span style="color:#c10aff">1</span>]&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;<span style="color:#c10aff">0</span>;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff3399">out</span>.ptr<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>uchar<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>(x)[<span style="color:#ff3399">out</span>.channels()<span style="color:#0086b3"></span><span style="color:#ff3399">*</span>y&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">+</span>&nbsp;<span style="color:#c10aff">2</span>]&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;<span style="color:#c10aff">0</span>;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff3399">else</span>&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff3399">if</span>&nbsp;(img1big.ptr<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>uchar<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>(x)[img1big.channels()<span style="color:#0086b3"></span><span style="color:#ff3399">*</span>y]&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">|</span><span style="color:#0086b3"></span><span style="color:#ff3399">|</span>&nbsp;img1big.ptr<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>uchar<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>(x)[img1big.channels()<span style="color:#0086b3"></span><span style="color:#ff3399">*</span>y&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">+</span>&nbsp;<span style="color:#c10aff">1</span>]&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">|</span><span style="color:#0086b3"></span><span style="color:#ff3399">|</span>&nbsp;img1big.ptr<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>uchar<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>(x)[img1big.channels()<span style="color:#0086b3"></span><span style="color:#ff3399">*</span>y&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">+</span>&nbsp;<span style="color:#c10aff">2</span>])</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span style="color:#999999">//img1이&nbsp;색깔</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff3399">out</span>.ptr<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>uchar<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>(x)[<span style="color:#ff3399">out</span>.channels()<span style="color:#0086b3"></span><span style="color:#ff3399">*</span>y]&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;img1big.ptr<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>uchar<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>(x)[img1big.channels()<span style="color:#0086b3"></span><span style="color:#ff3399">*</span>y];</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff3399">out</span>.ptr<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>uchar<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>(x)[<span style="color:#ff3399">out</span>.channels()<span style="color:#0086b3"></span><span style="color:#ff3399">*</span>y&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">+</span>&nbsp;<span style="color:#c10aff">1</span>]&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;img1big.ptr<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>uchar<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>(x)[img1big.channels()<span style="color:#0086b3"></span><span style="color:#ff3399">*</span>y&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">+</span>&nbsp;<span style="color:#c10aff">1</span>];</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff3399">out</span>.ptr<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>uchar<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>(x)[<span style="color:#ff3399">out</span>.channels()<span style="color:#0086b3"></span><span style="color:#ff3399">*</span>y&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">+</span>&nbsp;<span style="color:#c10aff">2</span>]&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;img1big.ptr<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>uchar<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>(x)[img1big.channels()<span style="color:#0086b3"></span><span style="color:#ff3399">*</span>y&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">+</span>&nbsp;<span style="color:#c10aff">2</span>];</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff3399">else</span>&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff3399">out</span>.ptr<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>uchar<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>(x)[<span style="color:#ff3399">out</span>.channels()<span style="color:#0086b3"></span><span style="color:#ff3399">*</span>y]&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;img2big.ptr<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>uchar<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>(x)[img2big.channels()<span style="color:#0086b3"></span><span style="color:#ff3399">*</span>y];</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff3399">out</span>.ptr<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>uchar<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>(x)[<span style="color:#ff3399">out</span>.channels()<span style="color:#0086b3"></span><span style="color:#ff3399">*</span>y&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">+</span>&nbsp;<span style="color:#c10aff">1</span>]&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;img2big.ptr<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>uchar<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>(x)[img2big.channels()<span style="color:#0086b3"></span><span style="color:#ff3399">*</span>y&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">+</span>&nbsp;<span style="color:#c10aff">1</span>];</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff3399">out</span>.ptr<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>uchar<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>(x)[<span style="color:#ff3399">out</span>.channels()<span style="color:#0086b3"></span><span style="color:#ff3399">*</span>y&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">+</span>&nbsp;<span style="color:#c10aff">2</span>]&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;img2big.ptr<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>uchar<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>(x)[img2big.channels()<span style="color:#0086b3"></span><span style="color:#ff3399">*</span>y&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">+</span>&nbsp;<span style="color:#c10aff">2</span>];</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;}</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;imshow(<span style="color:#ffd500">"out"</span>,&nbsp;<span style="color:#ff3399">out</span>);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;waitKey(<span style="color:#c10aff">0</span>);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff3399">return</span>&nbsp;<span style="color:#ff3399">out</span>;</div><div style="padding:0 6px; white-space:pre; line-height:130%">}</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#999999">//이미지에서&nbsp;특징점&nbsp;찾는&nbsp;함수</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">vector<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>KeyPoint<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>&nbsp;findkeypoint(Mat&nbsp;img)</div><div style="padding:0 6px; white-space:pre; line-height:130%">{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//이미지에서&nbsp;특징점&nbsp;찾기&nbsp;(SIFT로)</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;vector<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>KeyPoint<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>&nbsp;arrayKey;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff3399">double</span>&nbsp;nMinHessian&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;<span style="color:#c10aff">400.</span>;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;Ptr<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>xfeatures2d::SiftFeatureDetector<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>&nbsp;Detector&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;xfeatures2d::SiftFeatureDetector::create(nMinHessian);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;Detector<span style="color:#0086b3"></span><span style="color:#ff3399">-</span><span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>detect(img,&nbsp;arrayKey);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff3399">return</span>&nbsp;arrayKey;</div><div style="padding:0 6px; white-space:pre; line-height:130%">}</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#999999">//또&nbsp;다른&nbsp;파노라마&nbsp;코드</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#999999">//https://stackoverflow.com/questions/23492878/image-disappear-in-panorama-opencv</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">Mat&nbsp;deleteBlackZone(<span style="color:#ff3399">const</span>&nbsp;Mat&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">&amp;</span>image)</div><div style="padding:0 6px; white-space:pre; line-height:130%">{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;Mat&nbsp;resultGray;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;Mat&nbsp;result;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//image를&nbsp;result에</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;image.copyTo(result);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//image를&nbsp;흑밸으로&nbsp;바꿔서&nbsp;resultGray에</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;cvtColor(image,&nbsp;resultGray,&nbsp;CV_RGB2GRAY);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//이미지를&nbsp;매끄럽게&nbsp;하는&nbsp;함수</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//imshow("beforBlur",&nbsp;resultGray);</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;medianBlur(resultGray,&nbsp;resultGray,&nbsp;<span style="color:#c10aff">3</span>);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//imshow("afterBlur",&nbsp;resultGray);</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//&nbsp;첫번째&nbsp;매개변수&nbsp;:&nbsp;원본&nbsp;이미지,&nbsp;두번째&nbsp;:&nbsp;필터를&nbsp;거친&nbsp;이미지&nbsp;세번째&nbsp;:&nbsp;작은영역의&nbsp;사이즈</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;Mat&nbsp;resultTh;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;vector<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>vector<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>Point<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>&nbsp;contours;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;vector<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>Vec4i<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>&nbsp;hierarchy;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//The&nbsp;function&nbsp;is&nbsp;typically&nbsp;used&nbsp;to&nbsp;get&nbsp;a&nbsp;bi-level&nbsp;(binary)&nbsp;image&nbsp;out&nbsp;of&nbsp;a&nbsp;grayscale&nbsp;image</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//&nbsp;&nbsp;&nbsp;&nbsp;threshold(resultGray,&nbsp;resultTh,&nbsp;임계값,&nbsp;1,&nbsp;0);이렇게&nbsp;바꾸나??</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//or&nbsp;for&nbsp;removing&nbsp;a&nbsp;noise,&nbsp;that&nbsp;is,&nbsp;filtering&nbsp;out&nbsp;pixels&nbsp;with&nbsp;too&nbsp;small&nbsp;or&nbsp;too&nbsp;large&nbsp;values.&nbsp;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//threshold(input배열,&nbsp;output배열,&nbsp;임계값,&nbsp;배열의&nbsp;최대&nbsp;수,&nbsp;타입);</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//타입에&nbsp;대한&nbsp;정보https://docs.opencv.org/3.4.3/d7/d1b/group__imgproc__misc.html#gaa9e58d2860d4afa658ef70a9b1115576</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;threshold(resultGray,&nbsp;resultTh,&nbsp;<span style="color:#c10aff">1</span>,&nbsp;<span style="color:#c10aff">255</span>,&nbsp;<span style="color:#c10aff">0</span>);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//영상&nbsp;내에서&nbsp;연결&nbsp;컴포넌트의&nbsp;외곽선을&nbsp;추출하는&nbsp;함수</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//CV_RETR_EXTERNAL&nbsp;:&nbsp;외부&nbsp;외곽선&nbsp;검색</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//CV_CHAIN_APPROX_SIMPLE&nbsp;:&nbsp;마지막&nbsp;점이&nbsp;수평&nbsp;또는&nbsp;수직,&nbsp;대각선&nbsp;외곽선에&nbsp;포함됨</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//findContours(분석할&nbsp;대상,&nbsp;감지된외곽선,&nbsp;hierarchy,&nbsp;CV_RETR_EXTERNAL,&nbsp;CV_CHAIN_APPROX_SIMPLE);</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;findContours(resultTh,&nbsp;contours,&nbsp;hierarchy,&nbsp;CV_RETR_EXTERNAL,&nbsp;CV_CHAIN_APPROX_SIMPLE);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;Mat&nbsp;besta&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;Mat(contours[<span style="color:#c10aff">0</span>]);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//imshow("besta",&nbsp;besta);</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//rect는&nbsp;사각형&nbsp;표현&nbsp;클레스이다.</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//http://kgh1994.tistory.com/4</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;Rect&nbsp;a&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;boundingRect(besta);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;Mat&nbsp;half(result,&nbsp;a);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff3399">return</span>&nbsp;half;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">}</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#999999">//이미지&nbsp;2개&nbsp;붙이고&nbsp;붙은&nbsp;사진을&nbsp;return</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">Mat&nbsp;addtwo(Mat&nbsp;matbody,&nbsp;Mat&nbsp;matarm)</div><div style="padding:0 6px; white-space:pre; line-height:130%">{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//imshow("startfrombody",&nbsp;matbody);</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//imshow("startfromarm",&nbsp;matarm);</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//계산&nbsp;속도를&nbsp;위해&nbsp;흑백으로</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;Mat&nbsp;matgraybody,&nbsp;matgrayarm;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;cvtColor(matbody,&nbsp;matgraybody,&nbsp;CV_RGB2GRAY);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;cvtColor(matarm,&nbsp;matgrayarm,&nbsp;CV_RGB2GRAY);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//두&nbsp;이미지에서&nbsp;keypoint&nbsp;검출</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;vector<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>KeyPoint<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>&nbsp;keyPointbody,&nbsp;keyPointarm;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;keyPointbody&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;findkeypoint(matgraybody);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;keyPointarm&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;findkeypoint(matgrayarm);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//두&nbsp;이미지에서&nbsp;키포인트를&nbsp;기술하기</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;Ptr<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>xfeatures2d::SiftDescriptorExtractor<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>&nbsp;Extractor&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;xfeatures2d::SiftDescriptorExtractor::create();</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;Mat&nbsp;matExtractorbody,&nbsp;matExtractorarm;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;Extractor<span style="color:#0086b3"></span><span style="color:#ff3399">-</span><span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>compute(matbody,&nbsp;keyPointbody,&nbsp;matExtractorbody);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;Extractor<span style="color:#0086b3"></span><span style="color:#ff3399">-</span><span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>compute(matarm,&nbsp;keyPointarm,&nbsp;matExtractorarm);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//키포인트를&nbsp;매칭하고&nbsp;매칭정보&nbsp;DMatch에&nbsp;저장&nbsp;후&nbsp;good_match만&nbsp;골라낸다.</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//ransac이&nbsp;badmatch는&nbsp;걸러주는거&nbsp;아닌가??&nbsp;왜&nbsp;goodmatch를&nbsp;고른다음에&nbsp;다시하지?</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;FlannBasedMatcher&nbsp;Matcher;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;vector<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>DMatch<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>&nbsp;matches;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//cv::DescriptorMatcher::match(쿼리,&nbsp;트레인)</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;Matcher.match(matExtractorbody,&nbsp;matExtractorarm,&nbsp;matches);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//신뢰할&nbsp;수&nbsp;있는&nbsp;매치&nbsp;골라내기</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff3399">double</span>&nbsp;dMinDist&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;<span style="color:#c10aff">100</span>;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff3399">double</span>&nbsp;dMaxDist&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;<span style="color:#c10aff">0</span>;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff3399">for</span>&nbsp;(<span style="color:#ff3399">int</span>&nbsp;i&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;<span style="color:#c10aff">0</span>;&nbsp;i&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>&nbsp;matches.size();&nbsp;i<span style="color:#0086b3"></span><span style="color:#ff3399">+</span><span style="color:#0086b3"></span><span style="color:#ff3399">+</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff3399">double</span>&nbsp;dDistance&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;matches[i].distance;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff3399">if</span>&nbsp;(dDistance&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>&nbsp;dMinDist)&nbsp;dMinDist&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;dDistance;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff3399">if</span>&nbsp;(dDistance&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>&nbsp;dMaxDist)&nbsp;dMaxDist&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;dDistance;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;}</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;printf(<span style="color:#ffd500">"--&nbsp;Max&nbsp;iddst&nbsp;:&nbsp;%f&nbsp;\n"</span>,&nbsp;dMaxDist);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;printf(<span style="color:#ffd500">"--&nbsp;Min&nbsp;iddst&nbsp;:&nbsp;%f&nbsp;\n"</span>,&nbsp;dMinDist);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;vector<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>DMatch<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>&nbsp;good_matches;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff3399">for</span>&nbsp;(<span style="color:#ff3399">int</span>&nbsp;i&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;<span style="color:#c10aff">0</span>;&nbsp;i&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>&nbsp;matches.size();&nbsp;i<span style="color:#0086b3"></span><span style="color:#ff3399">+</span><span style="color:#0086b3"></span><span style="color:#ff3399">+</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff3399">if</span>&nbsp;(matches[i].distance&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>&nbsp;dMinDist&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">*</span>&nbsp;<span style="color:#c10aff">5</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;good_matches.push_back(matches[i]);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;}</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;Mat&nbsp;matGoodMatches1;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;drawMatches(matbody,&nbsp;keyPointbody,&nbsp;matarm,&nbsp;keyPointarm,&nbsp;good_matches,&nbsp;matGoodMatches1,&nbsp;Scalar::all(<span style="color:#0086b3"></span><span style="color:#ff3399">-</span><span style="color:#c10aff">1</span>),&nbsp;Scalar(<span style="color:#0086b3"></span><span style="color:#ff3399">-</span><span style="color:#c10aff">1</span>),&nbsp;vector<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span><span style="color:#ff3399">char</span><span style="color:#ff3399">&gt;</span>(),&nbsp;DrawMatchesFlags::DEFAULT);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//imshow("all-matches",&nbsp;matGoodMatches1);</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//신뢰할&nbsp;수&nbsp;있는&nbsp;매칭쌍&nbsp;good_match를&nbsp;이용해&nbsp;변환행렬을&nbsp;찾자</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//findhomography는&nbsp;ransac알고리즘으로&nbsp;변환행렬을&nbsp;찾아준다</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//변환행렬의&nbsp;shape에&nbsp;대해&nbsp;궁금...&nbsp;반환형과&nbsp;if반환형이&nbsp;정해져있다면&nbsp;몇몇&nbsp;변환api에&nbsp;지정된</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//mat형&nbsp;(2*2,&nbsp;3*3,&nbsp;4*4)는&nbsp;뭐지?&nbsp;findhomography는&nbsp;인수로&nbsp;point를&nbsp;받으니&nbsp;Dmatch를&nbsp;point로&nbsp;변환</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;vector<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>Point2f<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>&nbsp;pointsbody,&nbsp;pointsarm;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff3399">for</span>&nbsp;(<span style="color:#ff3399">int</span>&nbsp;i&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;<span style="color:#c10aff">0</span>;&nbsp;i&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>&nbsp;good_matches.size();&nbsp;i<span style="color:#0086b3"></span><span style="color:#ff3399">+</span><span style="color:#0086b3"></span><span style="color:#ff3399">+</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pointsbody.push_back(keyPointbody[good_matches[i].queryIdx].pt);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pointsarm.push_back(keyPointarm[good_matches[i].trainIdx].pt);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;}</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;Mat&nbsp;HomoMatrix&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;findHomography(pointsarm,&nbsp;pointsbody,&nbsp;CV_RANSAC);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;cout&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span><span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>&nbsp;HomoMatrix&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span><span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>&nbsp;endl;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//*******************************************************************</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;Mat&nbsp;matarmResult;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;warpPerspective(matarm,&nbsp;matarmResult,&nbsp;HomoMatrix,&nbsp;Size(matarm.cols&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">*</span>&nbsp;<span style="color:#c10aff">2</span>,&nbsp;matarm.rows),&nbsp;INTER_CUBIC);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//matarmResult.copyTo(deleteBlackZone(matarmResult));&nbsp;//추가</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;imshow(<span style="color:#ffd500">"warp"</span>,&nbsp;matarmResult);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;imshow(<span style="color:#ffd500">"body"</span>,&nbsp;matbody);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//http://visionprogrammer.tistory.com/8</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//ROI영상이란&nbsp;관심영역이라는&nbsp;뜻이다.</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//관심영역을&nbsp;지정해&nbsp;단순하게&nbsp;붙인&nbsp;코드</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//두Mat의&nbsp;평균을&nbsp;내는&nbsp;코드로&nbsp;바꿔보자</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//avgImage(Mat&nbsp;&amp;img1,&nbsp;Mat&nbsp;&amp;img2,&nbsp;Mat&amp;&nbsp;out)를&nbsp;보면&nbsp;out&nbsp;mat의</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//Mat&nbsp;matROI(matPanorama,&nbsp;Rect(0,&nbsp;0,&nbsp;matbody.cols,&nbsp;matbody.rows));</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//matbody.copyTo(matROI);</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;Mat&nbsp;matPanorama&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;avgImage(matbody,&nbsp;matarmResult).clone();</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//Mat&nbsp;zeroMat&nbsp;=&nbsp;Mat::zeros(500,&nbsp;500,&nbsp;CV_8UC1);</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//imshow("제로멧",&nbsp;zeroMat);&nbsp;-&gt;&nbsp;제로멧은&nbsp;검정색임,&nbsp;검정색은&nbsp;평균값에서&nbsp;제외</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;imshow(<span style="color:#ffd500">"panorama"</span>,&nbsp;matPanorama);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;waitKey(<span style="color:#c10aff">0</span>);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//std::vector&lt;int&gt;&nbsp;compression_params;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//imshow("panorama",&nbsp;matPanorama);</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff3399">return</span>&nbsp;matPanorama;</div><div style="padding:0 6px; white-space:pre; line-height:130%">}</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#ff3399">int</span>&nbsp;main()</div><div style="padding:0 6px; white-space:pre; line-height:130%">{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//int&nbsp;num&nbsp;=&nbsp;0;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//std::cout&nbsp;&lt;&lt;&nbsp;"입력할&nbsp;사진의&nbsp;갯수는?(3입력)"&nbsp;&lt;&lt;&nbsp;std::endl;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//std::cin&nbsp;&gt;&gt;&nbsp;num;&nbsp;//나중에&nbsp;string으로&nbsp;주소도&nbsp;입력받는걸로</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;Mat&nbsp;CMatLimg;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;Mat&nbsp;CMatMimg;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;Mat&nbsp;CMatRimg;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//이미지&nbsp;로드</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;CMatLimg&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;imread(<span style="color:#ffd500">"C:/Users/황유진/Pictures/L.jpg"</span>,&nbsp;IMREAD_COLOR);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;CMatMimg&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;imread(<span style="color:#ffd500">"C:/Users/황유진/Pictures/M.jpg"</span>,&nbsp;IMREAD_COLOR);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;CMatRimg&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;imread(<span style="color:#ffd500">"C:/Users/황유진/Pictures/R.jpg"</span>,&nbsp;IMREAD_COLOR);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff3399">if</span>&nbsp;(CMatLimg.empty()&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">|</span><span style="color:#0086b3"></span><span style="color:#ff3399">|</span>&nbsp;CMatMimg.empty()&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">|</span><span style="color:#0086b3"></span><span style="color:#ff3399">|</span>&nbsp;CMatRimg.empty())</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cout&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span><span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>&nbsp;<span style="color:#ffd500">"image&nbsp;load&nbsp;fail"</span>&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span><span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>&nbsp;endl;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff3399">return</span>&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">-</span><span style="color:#c10aff">1</span>;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;}</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//크기는&nbsp;그냥&nbsp;원본&nbsp;사진도&nbsp;줄이자...</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;Size&nbsp;size(CMatLimg.cols&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">/</span>&nbsp;<span style="color:#c10aff">2</span>,&nbsp;CMatLimg.rows&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">/</span>&nbsp;<span style="color:#c10aff">2</span>);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;resize(CMatLimg,&nbsp;CMatLimg,&nbsp;size);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;resize(CMatMimg,&nbsp;CMatMimg,&nbsp;size);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;resize(CMatRimg,&nbsp;CMatRimg,&nbsp;size);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;Mat&nbsp;matpanorama;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//Mat&nbsp;plus(Mat&nbsp;matbody,&nbsp;Mat&nbsp;matarm)&nbsp;앞에가&nbsp;body</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;matpanorama&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;addtwo(CMatLimg,&nbsp;CMatMimg);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//matpanorama&nbsp;=&nbsp;deleteBlackZone(matpanorama);</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;matpanorama&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;addtwo(matpanorama,&nbsp;CMatRimg);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;imshow(<span style="color:#ffd500">"final"</span>,&nbsp;matpanorama);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;waitKey(<span style="color:#c10aff">0</span>);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff3399">return</span>&nbsp;<span style="color:#c10aff">0</span>;</div><div style="padding:0 6px; white-space:pre; line-height:130%">}</div></div><div style="text-align:right; margin-top:-13px; margin-right:5px; font-size:9px; font-style:italic"><a href="http://colorscripter.com/info#e" target="_blank" style="color:#4f4f4f; text-decoration:none">Colored by Color Scripter</a></div></td><td style="vertical-align:bottom; padding:0 2px 4px 0"><a href="http://colorscripter.com/info#e" target="_blank" style="text-decoration:none; color:white"><span style="font-size:9px; word-break:normal; background-color:#4f4f4f; color:white; border-radius:10px; padding:1px">cs</span></a></td></tr></table></div>
		<br><br>
			
		이러한 오류가 발생했는데<br>완성된 파노라마 초기:<br>
		<img src="픽셀평균_2_out.JPG" alt="픽셀평균_2_out.JPG" width="200" height="250"><br>
		픽셀접근으로 평균을 냈는데 이렇게 했을 때 모두다 접근을 못하는 오류가 생긴것이였다.<br>
		그래서 size()대신 row와 col을 이용해 접근했고, 포인터를 이용해 접근했다.<br>
		<img src="픽셀 접근시 손실.JPG" alt="픽셀 접근시 손실.JPG" width="400" height="230"><br>


		<br><br><br>
    코드1. 사진 2개 파노라마
    <div class="colorscripter-code" style="color:#f0f0f0; font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; position:relative !important; overflow:auto"><table class="colorscripter-code-table" style="margin:0; padding:0; border:none; background-color:#272727; border-radius:4px;" cellspacing="0" cellpadding="0"><tr><td style="padding:6px; border-right:2px solid #4f4f4f"><div style="margin:0; padding:0; word-break:normal; text-align:right; color:#aaa; font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; line-height:130%"><div style="line-height:130%">1</div><div style="line-height:130%">2</div><div style="line-height:130%">3</div><div style="line-height:130%">4</div><div style="line-height:130%">5</div><div style="line-height:130%">6</div><div style="line-height:130%">7</div><div style="line-height:130%">8</div><div style="line-height:130%">9</div><div style="line-height:130%">10</div><div style="line-height:130%">11</div><div style="line-height:130%">12</div><div style="line-height:130%">13</div><div style="line-height:130%">14</div><div style="line-height:130%">15</div><div style="line-height:130%">16</div><div style="line-height:130%">17</div><div style="line-height:130%">18</div><div style="line-height:130%">19</div><div style="line-height:130%">20</div><div style="line-height:130%">21</div><div style="line-height:130%">22</div><div style="line-height:130%">23</div><div style="line-height:130%">24</div><div style="line-height:130%">25</div><div style="line-height:130%">26</div><div style="line-height:130%">27</div><div style="line-height:130%">28</div><div style="line-height:130%">29</div><div style="line-height:130%">30</div><div style="line-height:130%">31</div><div style="line-height:130%">32</div><div style="line-height:130%">33</div><div style="line-height:130%">34</div><div style="line-height:130%">35</div><div style="line-height:130%">36</div><div style="line-height:130%">37</div><div style="line-height:130%">38</div><div style="line-height:130%">39</div><div style="line-height:130%">40</div><div style="line-height:130%">41</div><div style="line-height:130%">42</div><div style="line-height:130%">43</div><div style="line-height:130%">44</div><div style="line-height:130%">45</div><div style="line-height:130%">46</div><div style="line-height:130%">47</div><div style="line-height:130%">48</div><div style="line-height:130%">49</div><div style="line-height:130%">50</div><div style="line-height:130%">51</div><div style="line-height:130%">52</div><div style="line-height:130%">53</div><div style="line-height:130%">54</div><div style="line-height:130%">55</div><div style="line-height:130%">56</div><div style="line-height:130%">57</div><div style="line-height:130%">58</div><div style="line-height:130%">59</div><div style="line-height:130%">60</div><div style="line-height:130%">61</div><div style="line-height:130%">62</div><div style="line-height:130%">63</div><div style="line-height:130%">64</div><div style="line-height:130%">65</div><div style="line-height:130%">66</div><div style="line-height:130%">67</div><div style="line-height:130%">68</div><div style="line-height:130%">69</div><div style="line-height:130%">70</div><div style="line-height:130%">71</div><div style="line-height:130%">72</div><div style="line-height:130%">73</div><div style="line-height:130%">74</div><div style="line-height:130%">75</div><div style="line-height:130%">76</div><div style="line-height:130%">77</div><div style="line-height:130%">78</div><div style="line-height:130%">79</div><div style="line-height:130%">80</div><div style="line-height:130%">81</div><div style="line-height:130%">82</div><div style="line-height:130%">83</div><div style="line-height:130%">84</div><div style="line-height:130%">85</div><div style="line-height:130%">86</div><div style="line-height:130%">87</div><div style="line-height:130%">88</div><div style="line-height:130%">89</div><div style="line-height:130%">90</div><div style="line-height:130%">91</div><div style="line-height:130%">92</div><div style="line-height:130%">93</div><div style="line-height:130%">94</div><div style="line-height:130%">95</div><div style="line-height:130%">96</div><div style="line-height:130%">97</div><div style="line-height:130%">98</div><div style="line-height:130%">99</div><div style="line-height:130%">100</div><div style="line-height:130%">101</div><div style="line-height:130%">102</div><div style="line-height:130%">103</div><div style="line-height:130%">104</div><div style="line-height:130%">105</div><div style="line-height:130%">106</div><div style="line-height:130%">107</div><div style="line-height:130%">108</div><div style="line-height:130%">109</div><div style="line-height:130%">110</div><div style="line-height:130%">111</div><div style="line-height:130%">112</div><div style="line-height:130%">113</div><div style="line-height:130%">114</div><div style="line-height:130%">115</div><div style="line-height:130%">116</div><div style="line-height:130%">117</div><div style="line-height:130%">118</div><div style="line-height:130%">119</div><div style="line-height:130%">120</div><div style="line-height:130%">121</div><div style="line-height:130%">122</div><div style="line-height:130%">123</div><div style="line-height:130%">124</div><div style="line-height:130%">125</div><div style="line-height:130%">126</div><div style="line-height:130%">127</div><div style="line-height:130%">128</div><div style="line-height:130%">129</div><div style="line-height:130%">130</div><div style="line-height:130%">131</div><div style="line-height:130%">132</div><div style="line-height:130%">133</div><div style="line-height:130%">134</div><div style="line-height:130%">135</div><div style="line-height:130%">136</div><div style="line-height:130%">137</div><div style="line-height:130%">138</div><div style="line-height:130%">139</div><div style="line-height:130%">140</div><div style="line-height:130%">141</div><div style="line-height:130%">142</div><div style="line-height:130%">143</div><div style="line-height:130%">144</div><div style="line-height:130%">145</div></div></td><td style="padding:6px 0"><div style="margin:0; padding:0; color:#f0f0f0; font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; line-height:130%"><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#999999">//특징점&nbsp;추출-&gt;기술-&gt;짝이&nbsp;될&nbsp;이미지&nbsp;찾기,&nbsp;이미지&nbsp;변환-&gt;블랜딩</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">#include&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>iostream<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">#include&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>stdio.h<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">#include&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>opencv2<span style="color:#0086b3"></span><span style="color:#ff3399">/</span>opencv.hpp<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">#include&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>opencv2<span style="color:#0086b3"></span><span style="color:#ff3399">/</span>xfeatures2d<span style="color:#0086b3"></span><span style="color:#ff3399">/</span>nonfree.hpp<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">#include&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>opencv2<span style="color:#0086b3"></span><span style="color:#ff3399">/</span>features2d<span style="color:#0086b3"></span><span style="color:#ff3399">/</span>features2d.hpp<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#ff3399">using</span>&nbsp;<span style="color:#ff3399">namespace</span>&nbsp;cv;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#999999">//이미지에서&nbsp;특징점&nbsp;찾는&nbsp;함수</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">std::vector<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>KeyPoint<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>&nbsp;findkeypoint(Mat&nbsp;img)</div><div style="padding:0 6px; white-space:pre; line-height:130%">{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//이미지에서&nbsp;특징점&nbsp;찾기&nbsp;(SIFT로)</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;std::vector<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>KeyPoint<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>&nbsp;arrayKey;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff3399">double</span>&nbsp;nMinHessian&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;<span style="color:#c10aff">400.</span>;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;Ptr<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>xfeatures2d::SiftFeatureDetector<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>&nbsp;Detector&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;xfeatures2d::SiftFeatureDetector::create(nMinHessian);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;Detector<span style="color:#0086b3"></span><span style="color:#ff3399">-</span><span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>detect(img,&nbsp;arrayKey);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff3399">return</span>&nbsp;arrayKey;</div><div style="padding:0 6px; white-space:pre; line-height:130%">}</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#ff3399">int</span>&nbsp;main()</div><div style="padding:0 6px; white-space:pre; line-height:130%">{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//int&nbsp;num&nbsp;=&nbsp;0;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//std::cout&nbsp;&lt;&lt;&nbsp;"입력할&nbsp;사진의&nbsp;갯수는?(3입력)"&nbsp;&lt;&lt;&nbsp;std::endl;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//std::cin&nbsp;&gt;&gt;&nbsp;num;&nbsp;//나중에&nbsp;string으로&nbsp;주소도&nbsp;입력받는걸로</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;Mat&nbsp;CMatLimg;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;Mat&nbsp;CMatMimg;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//얕은복사??아마&nbsp;그냥&nbsp;참조를&nbsp;편하게&nbsp;하기위해...</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;std::vector<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>Mat<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>&nbsp;Matoriginal_img;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;Matoriginal_img.push_back(CMatLimg);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;Matoriginal_img.push_back(CMatMimg);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;Matoriginal_img.push_back(CMatRimg);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//이미지&nbsp;로드&nbsp;&nbsp;&nbsp;&nbsp;//L하고&nbsp;M&nbsp;매칭</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;CMatLimg&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;imread(<span style="color:#ffd500">"C:/Users/황유진/Pictures/A.jpg"</span>,&nbsp;IMREAD_COLOR);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;CMatMimg&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;imread(<span style="color:#ffd500">"C:/Users/황유진/Pictures/B.jpg"</span>,&nbsp;IMREAD_COLOR);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff3399">if</span>&nbsp;(CMatLimg.empty()&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">|</span><span style="color:#0086b3"></span><span style="color:#ff3399">|</span>&nbsp;CMatMimg.empty())</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;std::cout&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span><span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>&nbsp;<span style="color:#ffd500">"image&nbsp;load&nbsp;fail"</span>&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span><span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>&nbsp;std::endl;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff3399">return</span>&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">-</span><span style="color:#c10aff">1</span>;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;}</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//빠른&nbsp;연산을&nbsp;위해&nbsp;grayscale로&nbsp;바꾸고&nbsp;사진의&nbsp;크기를&nbsp;줄이자</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;Mat&nbsp;MatLimg;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;Mat&nbsp;MatMimg;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//크기는&nbsp;그냥&nbsp;원본&nbsp;사진도&nbsp;줄이자...</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;Size&nbsp;size(CMatLimg.cols&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">/</span>&nbsp;<span style="color:#c10aff">2</span>,&nbsp;CMatLimg.rows&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">/</span>&nbsp;<span style="color:#c10aff">2</span>);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;resize(CMatLimg,&nbsp;CMatLimg,&nbsp;size);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;resize(CMatMimg,&nbsp;CMatMimg,&nbsp;size);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;cvtColor(CMatLimg,&nbsp;MatLimg,&nbsp;CV_RGB2GRAY);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;cvtColor(CMatMimg,&nbsp;MatMimg,&nbsp;CV_RGB2GRAY);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//이미지에서&nbsp;특징점&nbsp;찾기&nbsp;(SIFT로)</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;std::vector<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>KeyPoint<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>&nbsp;LimgKey,&nbsp;MimgKey;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff3399">double</span>&nbsp;nMinHessian&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;<span style="color:#c10aff">400.</span>;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;Ptr<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>xfeatures2d::SiftFeatureDetector<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>&nbsp;Detector&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;xfeatures2d::SiftFeatureDetector::create(nMinHessian);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;std::vector<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>std::<span style="color:#ff3399">string</span><span style="color:#ff3399">&gt;</span>&nbsp;matImgarray;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;matImgarray.push_back(<span style="color:#ffd500">"MatLimg"</span>);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;matImgarray.push_back(<span style="color:#ffd500">"MatMimg"</span>);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;LimgKey&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;findkeypoint(MatLimg);<span style="color:#999999">//키포인트까지만&nbsp;흑백영상에서&nbsp;검출</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;MimgKey&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;findkeypoint(MatMimg);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//특징점&nbsp;기술하기</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;Ptr<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>xfeatures2d::SiftDescriptorExtractor<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>&nbsp;Extractor&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;xfeatures2d::SiftDescriptorExtractor::create();</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;Mat&nbsp;matkeypointJaeyeon,&nbsp;matkeypointYuyeon,&nbsp;matkeypointBoth;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;Extractor<span style="color:#0086b3"></span><span style="color:#ff3399">-</span><span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>compute(CMatLimg,&nbsp;LimgKey,&nbsp;matkeypointJaeyeon);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;Extractor<span style="color:#0086b3"></span><span style="color:#ff3399">-</span><span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>compute(CMatMimg,&nbsp;MimgKey,&nbsp;matkeypointBoth);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//특징점&nbsp;매칭해서&nbsp;가장&nbsp;큰&nbsp;매칭&nbsp;vector&nbsp;반환</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//특징점&nbsp;매칭하기&nbsp;(FLANN)</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;FlannBasedMatcher&nbsp;Matcher;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;std::vector<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>DMatch<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>&nbsp;matches;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;Matcher.match(matkeypointJaeyeon,&nbsp;matkeypointBoth,&nbsp;matches);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//match&nbsp;list에서&nbsp;임계값을&nbsp;이용해&nbsp;good&nbsp;match만&nbsp;골라냄</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff3399">double</span>&nbsp;dMinDist&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;<span style="color:#c10aff">100</span>;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff3399">double</span>&nbsp;dMaxDist&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;<span style="color:#c10aff">0</span>;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff3399">for</span>&nbsp;(<span style="color:#ff3399">int</span>&nbsp;i&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;<span style="color:#c10aff">0</span>;&nbsp;i&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>&nbsp;matches.size();&nbsp;i<span style="color:#0086b3"></span><span style="color:#ff3399">+</span><span style="color:#0086b3"></span><span style="color:#ff3399">+</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff3399">double</span>&nbsp;dDistance&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;matches[i].distance;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff3399">if</span>&nbsp;(dDistance&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>&nbsp;dMinDist)&nbsp;dMinDist&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;dDistance;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff3399">if</span>&nbsp;(dDistance&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>&nbsp;dMaxDist)&nbsp;dMaxDist&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;dDistance;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;}</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;printf(<span style="color:#ffd500">"--&nbsp;Max&nbsp;iddst&nbsp;:&nbsp;%f&nbsp;\n"</span>,&nbsp;dMaxDist);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;printf(<span style="color:#ffd500">"--&nbsp;Min&nbsp;iddst&nbsp;:&nbsp;%f&nbsp;\n"</span>,&nbsp;dMinDist);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;std::vector<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>DMatch<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>&nbsp;good_matches;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff3399">for</span>&nbsp;(<span style="color:#ff3399">int</span>&nbsp;i&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;<span style="color:#c10aff">0</span>;&nbsp;i&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>&nbsp;matches.size();&nbsp;i<span style="color:#0086b3"></span><span style="color:#ff3399">+</span><span style="color:#0086b3"></span><span style="color:#ff3399">+</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff3399">if</span>&nbsp;(matches[i].distance&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>&nbsp;dMinDist&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">*</span>&nbsp;<span style="color:#c10aff">5</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;good_matches.push_back(matches[i]);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;}</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;Mat&nbsp;matGoodMatches;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;drawMatches(CMatLimg,&nbsp;LimgKey,&nbsp;CMatMimg,&nbsp;MimgKey,&nbsp;good_matches,&nbsp;matGoodMatches,&nbsp;Scalar::all(<span style="color:#0086b3"></span><span style="color:#ff3399">-</span><span style="color:#c10aff">1</span>),&nbsp;Scalar(<span style="color:#0086b3"></span><span style="color:#ff3399">-</span><span style="color:#c10aff">1</span>),&nbsp;std::vector<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span><span style="color:#ff3399">char</span><span style="color:#ff3399">&gt;</span>(),&nbsp;DrawMatchesFlags::DEFAULT);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;imshow(<span style="color:#ffd500">"allmatches"</span>,&nbsp;matGoodMatches);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;waitKey(<span style="color:#c10aff">0</span>);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//이제&nbsp;신뢰도&nbsp;높은&nbsp;매칭점을&nbsp;이용하여&nbsp;변환행렬을&nbsp;(호모그래피로&nbsp;찾자)</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;std::vector<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>Point2f<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>&nbsp;pointLimg;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;std::vector<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>Point2f<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>&nbsp;pointMimg;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff3399">for</span>&nbsp;(<span style="color:#ff3399">int</span>&nbsp;i&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;<span style="color:#c10aff">0</span>;&nbsp;i&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>&nbsp;good_matches.size();&nbsp;i<span style="color:#0086b3"></span><span style="color:#ff3399">+</span><span style="color:#0086b3"></span><span style="color:#ff3399">+</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pointLimg.push_back(LimgKey[good_matches[i].queryIdx].pt);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pointMimg.push_back(MimgKey[good_matches[i].trainIdx].pt);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;}</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;Mat&nbsp;HomoMatrix&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;findHomography(pointMimg,&nbsp;pointLimg,&nbsp;CV_RANSAC);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;std::cout&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span><span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>&nbsp;HomoMatrix&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span><span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>&nbsp;std::endl;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//homoMatrix를&nbsp;이용하여&nbsp;이미지를&nbsp;warp</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;Mat&nbsp;matResult;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;warpPerspective(CMatMimg,&nbsp;matResult,&nbsp;HomoMatrix,&nbsp;Size(CMatMimg.cols&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">*</span>&nbsp;<span style="color:#c10aff">2</span>,&nbsp;CMatMimg.rows),&nbsp;INTER_CUBIC);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;Mat&nbsp;matPanorama;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;matPanorama&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;matResult.clone();</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;imshow(<span style="color:#ffd500">"warp"</span>,&nbsp;matResult);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;Mat&nbsp;matROI(matPanorama,&nbsp;Rect(<span style="color:#c10aff">0</span>,&nbsp;<span style="color:#c10aff">0</span>,&nbsp;CMatLimg.cols,&nbsp;CMatLimg.rows));</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;CMatLimg.copyTo(matROI);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;imshow(<span style="color:#ffd500">"panorama"</span>,&nbsp;matPanorama);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;std::vector<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span><span style="color:#ff3399">int</span><span style="color:#ff3399">&gt;</span>&nbsp;compression_params;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;waitKey(<span style="color:#c10aff">0</span>);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff3399">return</span>&nbsp;<span style="color:#c10aff">0</span>;</div><div style="padding:0 6px; white-space:pre; line-height:130%">}</div></div><div style="text-align:right; margin-top:-13px; margin-right:5px; font-size:9px; font-style:italic"><a href="http://colorscripter.com/info#e" target="_blank" style="color:#4f4f4f; text-decoration:none">Colored by Color Scripter</a></div></td><td style="vertical-align:bottom; padding:0 2px 4px 0"><a href="http://colorscripter.com/info#e" target="_blank" style="text-decoration:none; color:white"><span style="font-size:9px; word-break:normal; background-color:#4f4f4f; color:white; border-radius:10px; padding:1px">cs</span></a></td></tr></table></div>

    코드2. 사진 여러개 파노라마(함수로 바꿈)
    <div class="colorscripter-code" style="color:#f0f0f0; font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; position:relative !important; overflow:auto"><table class="colorscripter-code-table" style="margin:0; padding:0; border:none; background-color:#272727; border-radius:4px;" cellspacing="0" cellpadding="0"><tr><td style="padding:6px; border-right:2px solid #4f4f4f"><div style="margin:0; padding:0; word-break:normal; text-align:right; color:#aaa; font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; line-height:130%"><div style="line-height:130%">1</div><div style="line-height:130%">2</div><div style="line-height:130%">3</div><div style="line-height:130%">4</div><div style="line-height:130%">5</div><div style="line-height:130%">6</div><div style="line-height:130%">7</div><div style="line-height:130%">8</div><div style="line-height:130%">9</div><div style="line-height:130%">10</div><div style="line-height:130%">11</div><div style="line-height:130%">12</div><div style="line-height:130%">13</div><div style="line-height:130%">14</div><div style="line-height:130%">15</div><div style="line-height:130%">16</div><div style="line-height:130%">17</div><div style="line-height:130%">18</div><div style="line-height:130%">19</div><div style="line-height:130%">20</div><div style="line-height:130%">21</div><div style="line-height:130%">22</div><div style="line-height:130%">23</div><div style="line-height:130%">24</div><div style="line-height:130%">25</div><div style="line-height:130%">26</div><div style="line-height:130%">27</div><div style="line-height:130%">28</div><div style="line-height:130%">29</div><div style="line-height:130%">30</div><div style="line-height:130%">31</div><div style="line-height:130%">32</div><div style="line-height:130%">33</div><div style="line-height:130%">34</div><div style="line-height:130%">35</div><div style="line-height:130%">36</div><div style="line-height:130%">37</div><div style="line-height:130%">38</div><div style="line-height:130%">39</div><div style="line-height:130%">40</div><div style="line-height:130%">41</div><div style="line-height:130%">42</div><div style="line-height:130%">43</div><div style="line-height:130%">44</div><div style="line-height:130%">45</div><div style="line-height:130%">46</div><div style="line-height:130%">47</div><div style="line-height:130%">48</div><div style="line-height:130%">49</div><div style="line-height:130%">50</div><div style="line-height:130%">51</div><div style="line-height:130%">52</div><div style="line-height:130%">53</div><div style="line-height:130%">54</div><div style="line-height:130%">55</div><div style="line-height:130%">56</div><div style="line-height:130%">57</div><div style="line-height:130%">58</div><div style="line-height:130%">59</div><div style="line-height:130%">60</div><div style="line-height:130%">61</div><div style="line-height:130%">62</div><div style="line-height:130%">63</div><div style="line-height:130%">64</div><div style="line-height:130%">65</div><div style="line-height:130%">66</div><div style="line-height:130%">67</div><div style="line-height:130%">68</div><div style="line-height:130%">69</div><div style="line-height:130%">70</div><div style="line-height:130%">71</div><div style="line-height:130%">72</div><div style="line-height:130%">73</div><div style="line-height:130%">74</div><div style="line-height:130%">75</div><div style="line-height:130%">76</div><div style="line-height:130%">77</div><div style="line-height:130%">78</div><div style="line-height:130%">79</div><div style="line-height:130%">80</div><div style="line-height:130%">81</div><div style="line-height:130%">82</div><div style="line-height:130%">83</div><div style="line-height:130%">84</div><div style="line-height:130%">85</div><div style="line-height:130%">86</div><div style="line-height:130%">87</div><div style="line-height:130%">88</div><div style="line-height:130%">89</div><div style="line-height:130%">90</div><div style="line-height:130%">91</div><div style="line-height:130%">92</div><div style="line-height:130%">93</div><div style="line-height:130%">94</div><div style="line-height:130%">95</div><div style="line-height:130%">96</div><div style="line-height:130%">97</div><div style="line-height:130%">98</div><div style="line-height:130%">99</div><div style="line-height:130%">100</div><div style="line-height:130%">101</div><div style="line-height:130%">102</div><div style="line-height:130%">103</div><div style="line-height:130%">104</div><div style="line-height:130%">105</div><div style="line-height:130%">106</div><div style="line-height:130%">107</div><div style="line-height:130%">108</div><div style="line-height:130%">109</div><div style="line-height:130%">110</div><div style="line-height:130%">111</div><div style="line-height:130%">112</div><div style="line-height:130%">113</div><div style="line-height:130%">114</div><div style="line-height:130%">115</div><div style="line-height:130%">116</div><div style="line-height:130%">117</div><div style="line-height:130%">118</div><div style="line-height:130%">119</div><div style="line-height:130%">120</div><div style="line-height:130%">121</div><div style="line-height:130%">122</div><div style="line-height:130%">123</div><div style="line-height:130%">124</div><div style="line-height:130%">125</div><div style="line-height:130%">126</div><div style="line-height:130%">127</div><div style="line-height:130%">128</div><div style="line-height:130%">129</div><div style="line-height:130%">130</div><div style="line-height:130%">131</div><div style="line-height:130%">132</div><div style="line-height:130%">133</div><div style="line-height:130%">134</div><div style="line-height:130%">135</div><div style="line-height:130%">136</div><div style="line-height:130%">137</div><div style="line-height:130%">138</div><div style="line-height:130%">139</div><div style="line-height:130%">140</div><div style="line-height:130%">141</div><div style="line-height:130%">142</div><div style="line-height:130%">143</div><div style="line-height:130%">144</div><div style="line-height:130%">145</div><div style="line-height:130%">146</div><div style="line-height:130%">147</div><div style="line-height:130%">148</div><div style="line-height:130%">149</div><div style="line-height:130%">150</div><div style="line-height:130%">151</div><div style="line-height:130%">152</div><div style="line-height:130%">153</div><div style="line-height:130%">154</div><div style="line-height:130%">155</div><div style="line-height:130%">156</div><div style="line-height:130%">157</div><div style="line-height:130%">158</div><div style="line-height:130%">159</div><div style="line-height:130%">160</div><div style="line-height:130%">161</div><div style="line-height:130%">162</div><div style="line-height:130%">163</div><div style="line-height:130%">164</div><div style="line-height:130%">165</div><div style="line-height:130%">166</div><div style="line-height:130%">167</div><div style="line-height:130%">168</div><div style="line-height:130%">169</div><div style="line-height:130%">170</div><div style="line-height:130%">171</div><div style="line-height:130%">172</div><div style="line-height:130%">173</div></div></td><td style="padding:6px 0"><div style="margin:0; padding:0; color:#f0f0f0; font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; line-height:130%"><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#999999">//특징점&nbsp;추출-&gt;기술-&gt;짝이&nbsp;될&nbsp;이미지&nbsp;찾기,&nbsp;이미지&nbsp;변환-&gt;블랜딩</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">#include&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>iostream<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">#include&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>stdio.h<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">#include&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>opencv2<span style="color:#0086b3"></span><span style="color:#ff3399">/</span>opencv.hpp<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">#include&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>opencv2<span style="color:#0086b3"></span><span style="color:#ff3399">/</span>xfeatures2d<span style="color:#0086b3"></span><span style="color:#ff3399">/</span>nonfree.hpp<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">#include&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>opencv2<span style="color:#0086b3"></span><span style="color:#ff3399">/</span>features2d<span style="color:#0086b3"></span><span style="color:#ff3399">/</span>features2d.hpp<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#ff3399">using</span>&nbsp;<span style="color:#ff3399">namespace</span>&nbsp;cv;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#ff3399">using</span>&nbsp;<span style="color:#ff3399">namespace</span>&nbsp;std;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#999999">//이미지에서&nbsp;특징점&nbsp;찾는&nbsp;함수</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">vector<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>KeyPoint<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>&nbsp;findkeypoint(Mat&nbsp;img)</div><div style="padding:0 6px; white-space:pre; line-height:130%">{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//이미지에서&nbsp;특징점&nbsp;찾기&nbsp;(SIFT로)</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;vector<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>KeyPoint<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>&nbsp;arrayKey;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff3399">double</span>&nbsp;nMinHessian&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;<span style="color:#c10aff">400.</span>;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;Ptr<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>xfeatures2d::SiftFeatureDetector<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>&nbsp;Detector&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;xfeatures2d::SiftFeatureDetector::create(nMinHessian);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;Detector<span style="color:#0086b3"></span><span style="color:#ff3399">-</span><span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>detect(img,&nbsp;arrayKey);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff3399">return</span>&nbsp;arrayKey;</div><div style="padding:0 6px; white-space:pre; line-height:130%">}</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#999999">//또&nbsp;다른&nbsp;파노라마&nbsp;코드</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#999999">//https://stackoverflow.com/questions/23492878/image-disappear-in-panorama-opencv</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">Mat&nbsp;deleteBlackZone(<span style="color:#ff3399">const</span>&nbsp;Mat&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">&amp;</span>image)</div><div style="padding:0 6px; white-space:pre; line-height:130%">{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;Mat&nbsp;resultGray;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;Mat&nbsp;result;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;image.copyTo(result);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;cvtColor(image,&nbsp;resultGray,&nbsp;CV_RGB2GRAY);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;medianBlur(resultGray,&nbsp;resultGray,&nbsp;<span style="color:#c10aff">3</span>);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//&nbsp;첫번째&nbsp;매개변수&nbsp;:&nbsp;원본&nbsp;이미지,&nbsp;두번째&nbsp;:&nbsp;필터를&nbsp;거친&nbsp;이미지&nbsp;세번째&nbsp;:&nbsp;작은영역의&nbsp;사이즈</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;Mat&nbsp;resultTh;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;vector<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>vector<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>Point<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>&nbsp;contours;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;vector<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>Vec4i<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>&nbsp;hierarchy;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;threshold(resultGray,&nbsp;resultTh,&nbsp;<span style="color:#c10aff">1</span>,&nbsp;<span style="color:#c10aff">255</span>,&nbsp;<span style="color:#c10aff">0</span>);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;findContours(resultTh,&nbsp;contours,&nbsp;hierarchy,&nbsp;CV_RETR_EXTERNAL,&nbsp;CV_CHAIN_APPROX_SIMPLE);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//영상&nbsp;내에서&nbsp;연결&nbsp;컴포넌트의&nbsp;외곽선을&nbsp;추출하는&nbsp;함수</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//CV_RETR_EXTERNAL&nbsp;:&nbsp;외부&nbsp;외곽선&nbsp;검색</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//CV_CHAIN_APPROX_SIMPLE&nbsp;:&nbsp;마지막&nbsp;점이&nbsp;수평&nbsp;또는&nbsp;수직,&nbsp;대각선&nbsp;외곽선에&nbsp;포함됨</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;Mat&nbsp;besta&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;Mat(contours[<span style="color:#c10aff">0</span>]);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;Rect&nbsp;a&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;boundingRect(besta);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;cv::Mat&nbsp;half(result,&nbsp;a);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff3399">return</span>&nbsp;half;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">}</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#999999">//이미지&nbsp;2개&nbsp;붙이고&nbsp;붙은&nbsp;사진을&nbsp;return</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">Mat&nbsp;addtwo(Mat&nbsp;matbody,&nbsp;Mat&nbsp;matarm)&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//imshow("startfrombody",&nbsp;matbody);</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//imshow("startfromarm",&nbsp;matarm);</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//계산&nbsp;속도를&nbsp;위해&nbsp;흑백으로</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;Mat&nbsp;matgraybody,&nbsp;matgrayarm;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;cvtColor(matbody,&nbsp;matgraybody,&nbsp;CV_RGB2GRAY);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;cvtColor(matarm,&nbsp;matgrayarm,&nbsp;CV_RGB2GRAY);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//두&nbsp;이미지에서&nbsp;keypoint&nbsp;검출</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;vector<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>KeyPoint<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>&nbsp;keyPointbody,&nbsp;keyPointarm;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;keyPointbody&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;findkeypoint(matgraybody);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;keyPointarm&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;findkeypoint(matgrayarm);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//두&nbsp;이미지에서&nbsp;키포인트를&nbsp;기술하기</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;Ptr<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>xfeatures2d::SiftDescriptorExtractor<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>&nbsp;Extractor&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;xfeatures2d::SiftDescriptorExtractor::create();</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;Mat&nbsp;matExtractorbody,&nbsp;matExtractorarm;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;Extractor<span style="color:#0086b3"></span><span style="color:#ff3399">-</span><span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>compute(matbody,&nbsp;keyPointbody,&nbsp;matExtractorbody);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;Extractor<span style="color:#0086b3"></span><span style="color:#ff3399">-</span><span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>compute(matarm,&nbsp;keyPointarm,&nbsp;matExtractorarm);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//키포인트를&nbsp;매칭하고&nbsp;매칭정보&nbsp;DMatch에&nbsp;저장&nbsp;후&nbsp;good_match만&nbsp;골라낸다.</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//ransac이&nbsp;badmatch는&nbsp;걸러주는거&nbsp;아닌가??&nbsp;왜&nbsp;goodmatch를&nbsp;고른다음에&nbsp;다시하지?</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;FlannBasedMatcher&nbsp;Matcher;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;vector<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>DMatch<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>&nbsp;matches;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//cv::DescriptorMatcher::match(쿼리,&nbsp;트레인)</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;Matcher.match(matExtractorbody,&nbsp;matExtractorarm,&nbsp;matches);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//신뢰할&nbsp;수&nbsp;있는&nbsp;매치&nbsp;골라내기</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff3399">double</span>&nbsp;dMinDist&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;<span style="color:#c10aff">100</span>;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff3399">double</span>&nbsp;dMaxDist&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;<span style="color:#c10aff">0</span>;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff3399">for</span>&nbsp;(<span style="color:#ff3399">int</span>&nbsp;i&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;<span style="color:#c10aff">0</span>;&nbsp;i&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>&nbsp;matches.size();&nbsp;i<span style="color:#0086b3"></span><span style="color:#ff3399">+</span><span style="color:#0086b3"></span><span style="color:#ff3399">+</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff3399">double</span>&nbsp;dDistance&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;matches[i].distance;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff3399">if</span>&nbsp;(dDistance&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>&nbsp;dMinDist)&nbsp;dMinDist&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;dDistance;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff3399">if</span>&nbsp;(dDistance&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>&nbsp;dMaxDist)&nbsp;dMaxDist&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;dDistance;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;}</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;printf(<span style="color:#ffd500">"--&nbsp;Max&nbsp;iddst&nbsp;:&nbsp;%f&nbsp;\n"</span>,&nbsp;dMaxDist);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;printf(<span style="color:#ffd500">"--&nbsp;Min&nbsp;iddst&nbsp;:&nbsp;%f&nbsp;\n"</span>,&nbsp;dMinDist);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;vector<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>DMatch<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>&nbsp;good_matches;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff3399">for</span>&nbsp;(<span style="color:#ff3399">int</span>&nbsp;i&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;<span style="color:#c10aff">0</span>;&nbsp;i&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>&nbsp;matches.size();&nbsp;i<span style="color:#0086b3"></span><span style="color:#ff3399">+</span><span style="color:#0086b3"></span><span style="color:#ff3399">+</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff3399">if</span>&nbsp;(matches[i].distance&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>&nbsp;dMinDist&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">*</span>&nbsp;<span style="color:#c10aff">5</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;good_matches.push_back(matches[i]);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;}</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;Mat&nbsp;matGoodMatches1;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;drawMatches(matbody,&nbsp;keyPointbody,&nbsp;matarm,&nbsp;keyPointarm,&nbsp;good_matches,&nbsp;matGoodMatches1,&nbsp;Scalar::all(<span style="color:#0086b3"></span><span style="color:#ff3399">-</span><span style="color:#c10aff">1</span>),&nbsp;Scalar(<span style="color:#0086b3"></span><span style="color:#ff3399">-</span><span style="color:#c10aff">1</span>),&nbsp;vector<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span><span style="color:#ff3399">char</span><span style="color:#ff3399">&gt;</span>(),&nbsp;DrawMatchesFlags::DEFAULT);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;imshow(<span style="color:#ffd500">"all-matches"</span>,&nbsp;matGoodMatches1);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//신뢰할&nbsp;수&nbsp;있는&nbsp;매칭쌍&nbsp;good_match를&nbsp;이용해&nbsp;변환행렬을&nbsp;찾자</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//findhomography는&nbsp;ransac알고리즘으로&nbsp;변환행렬을&nbsp;찾아준다</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//변환행렬의&nbsp;shape에&nbsp;대해&nbsp;궁금...&nbsp;반환형과&nbsp;if반환형이&nbsp;정해져있다면&nbsp;몇몇&nbsp;변환api에&nbsp;지정된</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//mat형&nbsp;(2*2,&nbsp;3*3,&nbsp;4*4)는&nbsp;뭐지?&nbsp;findhomography는&nbsp;인수로&nbsp;point를&nbsp;받으니&nbsp;Dmatch를&nbsp;point로&nbsp;변환</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;vector<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>Point2f<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>&nbsp;pointsbody,&nbsp;pointsarm;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff3399">for</span>&nbsp;(<span style="color:#ff3399">int</span>&nbsp;i&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;<span style="color:#c10aff">0</span>;&nbsp;i&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>&nbsp;good_matches.size();&nbsp;i<span style="color:#0086b3"></span><span style="color:#ff3399">+</span><span style="color:#0086b3"></span><span style="color:#ff3399">+</span>)&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pointsbody.push_back(keyPointbody[good_matches[i].queryIdx].pt);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pointsarm.push_back(keyPointarm[good_matches[i].trainIdx].pt);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;}</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;Mat&nbsp;HomoMatrix&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;findHomography(pointsarm,&nbsp;pointsbody,&nbsp;CV_RANSAC);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;cout&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span><span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>&nbsp;HomoMatrix&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span><span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>&nbsp;endl;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//*******************************************************************</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;Mat&nbsp;matarmResult;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;warpPerspective(matarm,&nbsp;matarmResult,&nbsp;HomoMatrix,&nbsp;Size(matarm.cols&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">*</span>&nbsp;<span style="color:#c10aff">2</span>,&nbsp;matarm.rows),&nbsp;INTER_CUBIC);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;imshow(<span style="color:#ffd500">"warp"</span>,&nbsp;matarmResult);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;Mat&nbsp;matPanorama&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;matarmResult.clone();</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//http://visionprogrammer.tistory.com/8</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//ROI영상이란&nbsp;관심영역이라는&nbsp;뜻이다.</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;Mat&nbsp;matROI(matPanorama,&nbsp;Rect(<span style="color:#c10aff">0</span>,&nbsp;<span style="color:#c10aff">0</span>,&nbsp;matbody.cols,&nbsp;matbody.rows));</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;matbody.copyTo(matROI);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;imshow(<span style="color:#ffd500">"panorama"</span>,&nbsp;matPanorama);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;waitKey(<span style="color:#c10aff">0</span>);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//std::vector&lt;int&gt;&nbsp;compression_params;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//imshow("panorama",&nbsp;matPanorama);</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff3399">return</span>&nbsp;matPanorama;</div><div style="padding:0 6px; white-space:pre; line-height:130%">}</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#ff3399">int</span>&nbsp;main()</div><div style="padding:0 6px; white-space:pre; line-height:130%">{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//int&nbsp;num&nbsp;=&nbsp;0;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//std::cout&nbsp;&lt;&lt;&nbsp;"입력할&nbsp;사진의&nbsp;갯수는?(3입력)"&nbsp;&lt;&lt;&nbsp;std::endl;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//std::cin&nbsp;&gt;&gt;&nbsp;num;&nbsp;//나중에&nbsp;string으로&nbsp;주소도&nbsp;입력받는걸로</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;Mat&nbsp;CMatLimg;<span style="color:#999999">//재현</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;Mat&nbsp;CMatMimg;<span style="color:#999999">//중간</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;Mat&nbsp;CMatRimg;<span style="color:#999999">//유연</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//이미지&nbsp;로드</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;CMatLimg&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;imread(<span style="color:#ffd500">"C:/Users/황유진/Pictures/L.jpg"</span>,&nbsp;IMREAD_COLOR);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;CMatMimg&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;imread(<span style="color:#ffd500">"C:/Users/황유진/Pictures/M.jpg"</span>,&nbsp;IMREAD_COLOR);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;CMatRimg&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;imread(<span style="color:#ffd500">"C:/Users/황유진/Pictures/R.jpg"</span>,&nbsp;IMREAD_COLOR);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff3399">if</span>&nbsp;(CMatLimg.empty()&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">|</span><span style="color:#0086b3"></span><span style="color:#ff3399">|</span>&nbsp;CMatMimg.empty()&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">|</span><span style="color:#0086b3"></span><span style="color:#ff3399">|</span>&nbsp;CMatRimg.empty())</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cout&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span><span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>&nbsp;<span style="color:#ffd500">"image&nbsp;load&nbsp;fail"</span>&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span><span style="color:#0086b3"></span><span style="color:#ff3399">&lt;</span>&nbsp;endl;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff3399">return</span>&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">-</span><span style="color:#c10aff">1</span>;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;}</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//크기는&nbsp;그냥&nbsp;원본&nbsp;사진도&nbsp;줄이자...</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;Size&nbsp;size(CMatLimg.cols&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">/</span>&nbsp;<span style="color:#c10aff">2</span>,&nbsp;CMatLimg.rows&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">/</span>&nbsp;<span style="color:#c10aff">2</span>);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;resize(CMatLimg,&nbsp;CMatLimg,&nbsp;size);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;resize(CMatMimg,&nbsp;CMatMimg,&nbsp;size);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;resize(CMatRimg,&nbsp;CMatRimg,&nbsp;size);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;Mat&nbsp;matpanorama;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//Mat&nbsp;plus(Mat&nbsp;matbody,&nbsp;Mat&nbsp;matarm)&nbsp;앞에가&nbsp;body</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;matpanorama&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;addtwo(CMatLimg,&nbsp;CMatMimg);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;matpanorama<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>deleteBlackZone(matpanorama);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;matpanorama&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;addtwo(matpanorama,&nbsp;CMatRimg);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;imshow(<span style="color:#ffd500">"final"</span>,&nbsp;matpanorama);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;waitKey(<span style="color:#c10aff">0</span>);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff3399">return</span>&nbsp;<span style="color:#c10aff">0</span>;</div><div style="padding:0 6px; white-space:pre; line-height:130%">}</div></div><div style="text-align:right; margin-top:-13px; margin-right:5px; font-size:9px; font-style:italic"><a href="http://colorscripter.com/info#e" target="_blank" style="color:#4f4f4f; text-decoration:none">Colored by Color Scripter</a></div></td><td style="vertical-align:bottom; padding:0 2px 4px 0"><a href="http://colorscripter.com/info#e" target="_blank" style="text-decoration:none; color:white"><span style="font-size:9px; word-break:normal; background-color:#4f4f4f; color:white; border-radius:10px; padding:1px">cs</span></a></td></tr></table></div>
    <a href="https://colorscripter.com/">코드를 입력하는데 이용한 웹사이트</a>

  </article>
</body>
</html>
